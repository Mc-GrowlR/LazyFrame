# 列表框概述

## 列表框介绍

列表框控件允许用户在一个列表中选择一个或多个选项。列表框控件允许自定义背景图片和滚动条图片的资源。

可以将列表项当做展示数据的一个表格。

列表框在游戏中的实际用处：
![[附件/QQ_1719752622519.png]]


列表框的列和行交叉构成了列表框的表项
![[附件/Pasted image 20240630211237.png]]
每次利用 api 向列表框中添加标的时候，添加的顺序是从左往右，从上到下。

可以利用 api 设置表的列数，当向表中添加的条目数超过了一行的列数时，下一次添加的条目会自动添加到下一行的行首。


# 列表框 API

## 创建列表框

Api：

``` lua
GUI:ListBoxCreate(_ParentHandleID,_pWndID,_PosX,_PosY,_SizeX,_SizeY)
CreateListBox(_Handle,_Info,_ImageId,_PosX,_PosY,_SizeX,_SizeY,_ID,_Align,_HintInfo)
```


你可以使用如下接口添加，删除或清空列表框中的项目。

|**接口名**|**中文名**|**返回值类型**|**功能描述**|**适用客户端**|
|---|---|---|---|---|
|ListBoxAddStr|向列表框中添加条目|无|此函数向指定的列表框控件添加文本条目，并使用默认的文本颜色。|手游、端游|
|ListBoxAddString|向列表框中添加自定义颜色的条目|无|此函数向指定的列表框控件添加文本条目，并可设置文本的颜色。|手游、端游|
|ListBoxClear|清空列表框所有内容|无|此函数清空指定列表框控件的所有条目内容。|手游、端游|
|ListBoxDelString|删除列表框中指定的条目|无|此函数根据索引删除指定列表框控件的条目。|手游、端游|

## 设置控件

你可以使用如下接口添加，删除或清空列表框中的项目。

|**接口名**|**中文名**|**返回值类型**|**功能描述**|**适用客户端**|
|---|---|---|---|---|
|ListBoxSetColumnFmt|设置列表框某列的显示格式|无|此函数设置指定根据列表框控件中某列的显示格式。|手游、端游|
|ListBoxSetColumnNum|设置列表框的列数|无|此函数设置指定列表框控件的列数。|手游、端游|
|ListBoxSetColumnPos|设置列表框中某列的位置|无|此函数设置指定列表框控件中某列的位置。|手游、端游|
|ListBoxSetCurSel|设置列表框的选中条目|无|此函数根据行索引和列索引设置指定列表框控件的选中条目。|手游、端游|
|ListBoxSetDefaultColor|修改列表框的各种默认颜色|无|此函数支持修改列表框控件的各种默认颜色，包括默认背景颜色、默认文本颜色、默认选中项的背景颜色或者默认鼠标悬浮所在项的背景颜色。|手游、端游|
|ListBoxSetFillAllLineBack|设置列表框条目填充背景的绘制方式|无|此函数设置是对整行还是单个条目进行填充背景的绘制。可控制列表框条目被选中（或端游中鼠标悬停于条目上）时的背景填充方式。|手游、端游|
|ListBoxSetOffsetX|设置列表框条目的水平偏移量|无|此函数设置指定列表框控件中条目的水平偏移量。|手游、端游|
|ListBoxSetOffsetY|设置列表框的条目行高|无|此函数设置指定列表框控件中各个条目之间的垂直间隔，即行间距。|手游、端游|
|ListBoxSetScrollBarImage|设置列表框中滚动条的图片|无|此函数设置列表框控件中滚动条的图片。|手游、端游|
|ListBoxSetSlideUpDown|设置列表框控件自身是否可滑动|无|此函数设置列表框控件自身是否可上下滑动。|手游|

## 获取控件信息

在创建或设置列表框控件后，可以通过以下接口获取列表框控件项目个数、行号、列号等信息。

|**接口名**|**中文名**|**返回值类型**|**功能描述**|**适用客户端**|
|---|---|---|---|---|
|ListBoxGetCurSelCol|获取列表框选中条目的列号|int|此函数获取指定列表框控件中被选中条目的列号。|手游、端游|
|ListBoxGetCurSelLine|获取列表框选中条目的行号|int|此函数获取指定列表框控件选中条目的行号。|手游、端游|
|ListBoxGetLineCount|获取列表框中的条目个数|int|此函数获取指定列表框中的条目个数。|手游、端游|
|ListBoxGetLineString|获取列表框中指定行数第一列的条目内容|string|此函数获取指定列表框控件中的指定行数第一列的条目内容。|手游、端游|
|ListBoxGetScrollBarImageData|获取列表框中滚动条的图片资源ID|bool|此函数获取指定列表框中滚动条的两端方向按钮、滑块和滚动条背景的图片资源ID。|手游、端游|
|ListBoxGetString|获取列表框指定行数和列数的条目内容|string|此函数获取指定列表框控件中指定行数和列数的条目内容|手游、端游|